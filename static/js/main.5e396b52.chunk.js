(this["webpackJsonpscoreboard-react"]=this["webpackJsonpscoreboard-react"]||[]).push([[0],{18:function(e,t,a){e.exports=a(31)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(9),c=a.n(s),o=(a(23),a(17)),l=a(16),i=a(1),u=a(2),p=a(4),d=a(3),h=a(6),y=a(5),m=(a(24),a(10)),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Animals",t=m.filter((function(t){return t.category.startsWith(e)&&t.unicode_version<=8})),a=Math.floor(Math.random()*t.length),r=t[a];return r},b=(a(25),a(26),function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"avatar",tabIndex:0,"aria-label":"Pick New Avatar",role:"button",onClick:this.props.onAvatarClick},n.a.createElement("span",{role:"img","aria-label":this.props.avatar.description},this.props.avatar.emoji))}}]),t}(r.Component)),f=(a(27),function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"score-total"},this.props.total)}}]),t}(r.Component)),S=(a(28),function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("ul",{className:"score-list"},this.props.scores.map((function(t){return n.a.createElement("li",{key:t.id,className:t.active?"score-list__score score-list__score--active":"score-list__score",onClick:function(){return e.props.onScoreEdit(e.props.playerId,t.id)}},""===t.score?n.a.createElement("span",{style:{color:"transparent"}},"Empty"):t.score)})))}}]),t}(r.Component)),k=function(){return Number(String(Math.random()).split(".")[1]).toString(16)},C=(a(29),a(7)),E=a(11),O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).state={valid:!1,value:""},e.handleScoreChange=e.handleScoreChange.bind(Object(h.a)(e)),e.handleValueChange=e.handleValueChange.bind(Object(h.a)(e)),e}return Object(y.a)(t,e),Object(u.a)(t,[{key:"handleValueChange",value:function(e){var t=this,a=e.target,r=a.value,n=a.checkValidity()&&""!==a.value;this.setState({valid:n},(function(){t.handleScoreChange(t.props.playerId,r)}))}},{key:"handleScoreChange",value:function(e,t){var a={score:t,valid:this.state.valid};this.props.newValue.hasOwnProperty("id")?a.id=this.props.newValue.id:a.id=k(),this.props.onNewScoreInput(e,a)}},{key:"render",value:function(){return n.a.createElement("div",{className:"score-input"},n.a.createElement("input",{className:"score-input__field",id:"score-input__field".concat(this.props.playerId),type:"text",pattern:"\\d+",placeholder:"Score?",value:this.props.newValue.hasOwnProperty("score")&&""!==this.props.newValue.score?this.props.newValue.score:"",onChange:this.handleValueChange}),n.a.createElement("label",{className:"score-input__indicator",htmlFor:"score-input__field".concat(this.props.playerId)},this.props.newValue.hasOwnProperty("valid")&&this.props.newValue.valid&&n.a.createElement(C.a,{className:"score-input__indicator--success"}),this.props.newValue.hasOwnProperty("valid")&&!this.props.newValue.valid&&""!==this.props.newValue.score&&n.a.createElement(E.a,{className:"score-input__indicator--error"})))}}]),t}(r.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"player"},n.a.createElement("div",{className:"player__title"},n.a.createElement(b,{avatar:this.props.avatar,onAvatarClick:function(){return e.props.onAvatarClick(e.props.id)}}),n.a.createElement(f,{total:this.props.total})),n.a.createElement("div",{className:"player__body"},n.a.createElement(O,{onNewScoreInput:this.props.onNewScoreInput,playerId:this.props.id,newValue:this.props.newScore}),n.a.createElement(S,{playerId:this.props.id,scores:this.props.scores,onScoreEdit:this.props.onScoreEdit})))}}]),t}(r.Component),j=(a(30),a(12)),_=a(13),P=a(14),N=a(15),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).playerInputComplete=function(){return a.props.players.every((function(e){return e.newScore.hasOwnProperty("valid")&&e.newScore.valid}))},a.scoreEditActive=function(){return a.props.players.every((function(e){return e.scores.some((function(e){return e.active}))}))},a}return Object(y.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"controls-tray"},n.a.createElement("button",{"aria-label":"Remove Player",title:"Remove Player",className:"controls-tray__button",onClick:this.props.onRemovePlayerClick,disabled:this.props.players.length<=1},n.a.createElement(_.a,null),n.a.createElement("span",{className:"controls-tray__label"},"Remove Player")),n.a.createElement("button",{"aria-label":"Remove Scores",title:"Remove Scores",className:"controls-tray__button",onClick:this.props.onRemoveScoresClick,disabled:!this.scoreEditActive()},n.a.createElement(N.a,null),n.a.createElement("span",{className:"controls-tray__label"},"Remove Scores")),n.a.createElement("button",{"aria-label":"Current Round",title:"Current Round: ".concat(this.props.round),className:"controls-tray__button controls-tray__button--display",disabled:!0},n.a.createElement("div",{className:"controls-tray__round-icon"},this.props.round),n.a.createElement("span",{className:"controls-tray__label"},"Current Round")),n.a.createElement("button",{"aria-label":"Add Scores",title:"Add Scores",className:"controls-tray__button",onClick:this.props.onAddScoresClick,disabled:!this.playerInputComplete()},this.playerInputComplete()?n.a.createElement(C.a,null):n.a.createElement(P.a,null),n.a.createElement("span",{className:"controls-tray__label"},"Add Scores")),n.a.createElement("button",{"aria-label":"Add Player",title:"Add Player",className:"controls-tray__button",onClick:this.props.onAddPlayerClick,disabled:this.props.players.length>=this.props.maxPlayers},n.a.createElement(j.a,null),n.a.createElement("span",{className:"controls-tray__label"},"Add Player")))}}]),t}(n.a.Component);var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Array.from(new Array(e)).map((function(){return{id:k(),score:Math.floor(Math.random()*t),valid:!0}}))},R=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).addPlayer=function(){return e.setState({players:[].concat(Object(l.a)(e.state.players),[e.createNewPlayerObject()])})},e.removePlayer=function(){var t=e.state.players.splice(0,e.state.players.length-1);e.setState({players:t})},e.state={maxPlayers:4,players:[]},e.handleAvatarClick=e.handleAvatarClick.bind(Object(h.a)(e)),e.handleAddScoresClick=e.handleAddScoresClick.bind(Object(h.a)(e)),e.handleRemoveScoresClick=e.handleRemoveScoresClick.bind(Object(h.a)(e)),e.handlePlayerNewScoreInput=e.handlePlayerNewScoreInput.bind(Object(h.a)(e)),e.handleAddPlayerClick=e.handleAddPlayerClick.bind(Object(h.a)(e)),e.handleRemovePlayerClick=e.handleRemovePlayerClick.bind(Object(h.a)(e)),e.handleScoreEditClick=e.handleScoreEditClick.bind(Object(h.a)(e)),e}return Object(y.a)(t,e),Object(u.a)(t,[{key:"handleScoreEditClick",value:function(e,t){var a=this.state.players.findIndex((function(t){return t.id===e})),r=this.state.players[a].scores.findIndex((function(e){return e.id===t})),n=this.state.players.map((function(e){return e.newScore=e.scores[r],e.scores.forEach((function(e,t){return e.active=t===r})),e}));this.setState({players:n})}},{key:"handlePlayerNewScoreInput",value:function(e,t){var a=this.state.players.map((function(a){return a.id===e&&(a.newScore.score=t.score,a.newScore.id=t.id,a.newScore.valid=t.valid),a}));this.setState({players:a})}},{key:"handleRemoveScoresClick",value:function(){var e=this.state.players.map((function(e){return Object(o.a)({},e,{scores:e.scores.filter((function(e){return!e.active})),newScore:{}})}));this.setState({players:e})}},{key:"handleAddScoresClick",value:function(){if(this.state.players.every((function(e){return e.newScore.hasOwnProperty("score")&&""!==e.newScore.score}))){var e=this.state.players.map((function(e){return e.scores.some((function(t){return t.hasOwnProperty("id")&&t.id===e.newScore.id}))?(e.newScore={},e.scores.forEach((function(e){return e.active=!1}))):(e.newScore.id=k(),e.scores.push(e.newScore),e.newScore={}),e}));this.setState({players:e})}}},{key:"handleAvatarClick",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=v(),r=this.state.players.map((function(e){return e.avatar.emoji})),n=function(){return r.some((function(e){return e===a.emoji}))};n();)a=v();if(!t)return a;var s=this.state.players.map((function(t){return t.id===e&&(t.avatar=a),t}));this.setState({players:s})}},{key:"createNewPlayerObject",value:function(){var e=k(),t=this.state.players[0]?this.state.players[0].scores.length:5,a=this.state.players[0]?1:10;return this.handleAvatarClick(e),{id:e,scores:g(t,a),newScore:{},avatar:this.handleAvatarClick(e,!1)}}},{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=[{},{},{},{}].map((function(t){return e.createNewPlayerObject()}));this.setState({players:t})}},{key:"handleAddPlayerClick",value:function(){this.state.players.length>=this.state.maxPlayers||this.addPlayer()}},{key:"handleRemovePlayerClick",value:function(){this.state.players.length<=1||this.removePlayer()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"app","data-active-players":this.state.players.length},n.a.createElement("div",{className:"players"},this.state.players.map((function(t){return n.a.createElement(w,Object.assign({key:t.id},t,{onAvatarClick:e.handleAvatarClick,onNewScoreInput:e.handlePlayerNewScoreInput,onScoreEdit:e.handleScoreEditClick,total:t.scores.filter((function(e){var t=e.score;return Number(t)})).reduce((function(e,t){var a=t.score;return e+Number(a)}),0),editScores:e.state.editScores}))}))),n.a.createElement(A,{onAddPlayerClick:this.handleAddPlayerClick,onRemovePlayerClick:this.handleRemovePlayerClick,players:this.state.players,round:this.state.players[0].scores.length,onAddScoresClick:this.handleAddScoresClick,onRemoveScoresClick:this.handleRemoveScoresClick,newRoundActive:this.state.newRoundActive,maxPlayers:this.state.maxPlayers}))}}]),t}(r.Component);function I(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}c.a.render(n.a.createElement(R,null),document.getElementById("root")),window.addEventListener("resize",I),I()}},[[18,1,2]]]);
//# sourceMappingURL=main.5e396b52.chunk.js.map